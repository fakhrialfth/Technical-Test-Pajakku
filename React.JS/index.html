<!DOCTYPE html>
<html>
  <body>
    <script src="https://unpkg.com/react@16.3.2/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@16.3.2/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/6.26.0/babel.min.js" charset="utf-8"></script>
    <script type="text/babel">
      const Product = props => {
        const {name, vote, onVote} = props;
        const plus = () => {
          // Call props.onVote to increase the vote count for this product
          onVote(name, 1)
        };
        const minus = () => {
          // Call props.onVote to decrease the vote count for this product
          onVote(name, -1)
        };
        return (
          <li>
            <span>{/* Product name */ name}</span> - <span>votes: {/* Number of votes*/ vote}</span>
            <button onClick={plus}>+</button>{" "}
            <button onClick={minus}>-</button>
          </li>
        );
      };

      class GroceryApp extends React.Component {
        state = { products: this.props.products }
        // Finish writing the GroceryApp class
  
        onVote = (product, vote) => {
          // Update the products array accordingly ...
          this.setState(
            this.state.products.map(product => {
                if (product.name === name)
                return (product.votes += vote)
                return product;
            })
          )
        };

        render() {
          return (
            <ul>
              {/* Render an array of products, which should call this.onVote when + or - is clicked */
                products.map((product, index) => (
                    <Product
                        key={index}
                        name={product.name}
                        votes={product.votes}
                        onVote={this.onVote}
                    />
                ))}
            </ul>
          );
        }
      }

    
      ReactDOM.render(<GroceryApp
        products={[
          { name: "Oranges", votes: 0 },
          { name: "Apples", votes: 0 },
          { name: "Bananas", votes: 0 }
        ]}
      />, document.getElementById('root'))
    </script>
    <div id="root"></div>
  </body>
</html>